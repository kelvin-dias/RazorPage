@page
@model ApplicationRazorPage.ConsultarOcorrenciaModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@addTagHelper *, AuthoringTagHelpers

@using Modelo.Enumeradores

@{
    ViewData["Title"] = "ConsultarOcorrencia";
    Layout = "~/Pages/Shared/_Layout.cshtml";
}

@section Styles	{
    <link href="@Url.Content("~/Template/assets/js/plugins/datatables/dataTables.bootstrap4.css")" rel="stylesheet" />
}

<!-- Page Content -->
<div class="content">
    <div class="block">
        <div class="block-header block-header-default">
            <h3 class="block-title">Ocorrências</h3>
            <div class="block-options">
                <button type="button" class="btn btn-circle btn-dual-secondary" data-toggle="layout" data-action="side_overlay_toggle">
                    <i class="fas fa-plus-circle mr-5"></i>Nova ocorrência
                </button>
                <button type="button" class="btn-block-option" data-toggle="block-option" data-action="fullscreen_toggle"></button>
                <button type="button" class="btn-block-option" data-toggle="block-option" data-action="state_toggle" data-action-mode="demo">
                    <i class="si si-refresh"></i>
                </button>
            </div>
        </div>
        <div class="block-content">
            <!-- Intro Category -->
            <table class="table table-striped table-borderless table-vcenter">
                <thead class="thead-light">
                    <tr>
                        <th colspan="2">Abertas</th>
                        <th class="d-none d-md-table-cell text-center" style="width: 90px;">Topics</th>
                        <th class="d-none d-md-table-cell text-center" style="width: 90px;">Posts</th>
                        <th class="d-none d-md-table-cell" style="width: 180px;">Last Post</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.Ocorrencias)
                    {
                        if (item.StatusOcorrencia == true)
                        {
                            <tr>
                                <td class="text-center" style="width: 65px;">
                                    <i class="si si-check fa-2x"></i>
                                </td>
                                <td>
                                    <a asp-page="./DetalharOcorrencia" asp-route-id="@item.OcorrenciaId">@item.NumeroOcorrencia</a>
                                    <div class="text-muted my-5">@Html.DisplayFor(modelItem => item.Titulo)</div>
                                    <div class="font-size-sm text-muted">
                                        <em><strong class="font-w600">Moderators:</strong> <a href="javascript:void(0)">admin</a></em>
                                    </div>
                                </td>
                                <td class="d-none d-md-table-cell text-center">
                                    <a class="font-w600" href="javascript:void(0)">940</a>
                                </td>
                                <td class="d-none d-md-table-cell text-center">
                                    <a class="font-w600" href="javascript:void(0)">8561</a>
                                </td>
                                <td class="d-none d-md-table-cell">
                                    <span class="font-size-sm">by <a href="be_pages_generic_profile.html">Helen Jacobs</a><br>on <em>@Html.DisplayFor(modelItem => item.DataHoraAbertura)</em></span>
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
            <!-- END Intro Category -->
            <!-- Web App Category -->
            <table class="table table-striped table-borderless table-vcenter">
                <thead class="thead-light">
                    <tr>
                        <th colspan="2">Fechadas</th>
                        <th class="d-none d-md-table-cell text-center" style="width: 90px;">Topics</th>
                        <th class="d-none d-md-table-cell text-center" style="width: 90px;">Posts</th>
                        <th class="d-none d-md-table-cell" style="width: 180px;">Last Post</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.Ocorrencias)
                    {
                        if (item.StatusOcorrencia == false)
                        {
                            <tr>
                                <td class="text-center" style="width: 65px;">
                                    <i class="si si-check fa-2x"></i>
                                </td>
                                <td>
                                    <a asp-page="./DetalharOcorrencia" asp-route-id="@item.OcorrenciaId">@item.NumeroOcorrencia</a>
                                    <div class="text-muted my-5">@Html.DisplayFor(modelItem => item.Titulo)</div>
                                    <div class="font-size-sm text-muted">
                                        <em><strong class="font-w600">Moderators:</strong> <a href="javascript:void(0)">admin</a></em>
                                    </div>
                                </td>
                                <td class="d-none d-md-table-cell text-center">
                                    <a class="font-w600" href="javascript:void(0)">940</a>
                                </td>
                                <td class="d-none d-md-table-cell text-center">
                                    <a class="font-w600" href="javascript:void(0)">8561</a>
                                </td>
                                <td class="d-none d-md-table-cell">
                                    <span class="font-size-sm">by <a href="be_pages_generic_profile.html">Helen Jacobs</a><br>on <em>@Html.DisplayFor(modelItem => item.DataHoraAbertura)</em></span>
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
            <!-- END Web App Category -->
        </div>
    </div>
</div>
<!-- END Page Content -->
<!-- Side Overlay-->
<aside id="side-overlay" style="width: 650px">
    <!-- Side Header -->
    <div class="content-header content-header-fullrow">
        <div class="content-header-section align-parent">
            <!-- Close Side Overlay -->
            <!-- Layout API, functionality initialized in Template._uiApiLayout() -->
            <button type="button" class="btn btn-circle btn-dual-secondary align-v-r" data-toggle="layout" data-action="side_overlay_close">
                <i class="fa fa-times text-danger"></i>
            </button>
            <!-- END Close Side Overlay -->
            <!-- User Info -->
            <div class="content-header-item">
                <a class="img-link mr-5" href="be_pages_generic_profile.html">
                    <img class="img-avatar img-avatar32" src="assets/media/avatars/avatar15.jpg" alt="">
                </a>
                <a class="align-middle link-effect text-primary-dark font-w600">Nova Ocorrência</a>
            </div>
            <!-- END User Info -->
        </div>
    </div>
    <!-- END Side Header -->
    <!-- Side Content -->
    <div class="content-side">
        <!-- Profile -->
        <div class="block pull-r-l">
            <div class="block-header bg-body-light">
                <h3 class="block-title">
                    <i class="fa fa-fw fa-pencil font-size-default mr-5"></i>Informações Sobre a Ocorrência
                </h3>
                <div class="block-options">
                    <button type="button" class="btn-block-option" data-toggle="block-option" data-action="content_toggle"></button>
                </div>
            </div>
            <form method="post">
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                <div class="block-content">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label asp-for="Ocorrencia.Titulo"></label>
                                <input class="form-control" asp-for="Ocorrencia.Titulo" type="text">
                                <span asp-validation-for="Ocorrencia.Titulo" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label asp-for="Ocorrencia.CategoriaOcorrencia"></label>
                                <select class="form-control" asp-for="Ocorrencia.CategoriaOcorrencia" asp-items="Html.GetEnumSelectList<Categoria>()">
                                    <option value="">Selecione</option>
                                </select>
                                <span class="text-danger" asp-validation-for="Ocorrencia.CategoriaOcorrencia"></span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label asp-for="Ocorrencia.DataHoraOcorrencia"></label>
                                <input type="date" class="form-control" asp-for="Ocorrencia.DataHoraOcorrencia">
                                <span class="text-danger" asp-validation-for="Ocorrencia.DataHoraOcorrencia"></span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label asp-for="Ocorrencia.CriticidadeOcorrencia"></label>
                                <select class="form-control" asp-for="Ocorrencia.CriticidadeOcorrencia" asp-items="Html.GetEnumSelectList<Criticidade>()" id="example-select">
                                    <option value="">Selecione</option>
                                </select>
                                <span class="text-danger" asp-validation-for="Ocorrencia.CriticidadeOcorrencia"></span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-12" asp-for="Ocorrencia.Descricao"></label>
                        <div class="col-12">
                            <textarea class="form-control" rows="6" asp-for="Ocorrencia.Descricao" ></textarea>
                            <span class="text-danger" asp-validation-for="Ocorrencia.Descricao"></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            @*<input type="submit" value="Create" class="btn btn-primary" />*@
                            <button type="button" class="btn btn-outline-primary min-width-125 float-left mb-10 ml-15" data-toggle="layout" data-action="side_overlay_close">Voltar</button>
                            <button type="submit" value="Create" class="btn btn-outline-success min-width-125 float-right mb-10 ml-15">Salvar</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <!-- END Profile -->

    </div>
    <!-- END Side Content -->
</aside>
<!-- END Side Overlay -->


@section ScriptPage	{
    <script src="@Url.Content("~/Template/assets/js/plugins/datatables/jquery.dataTables.min.js")"></script>
    <script src="@Url.Content("~/Template/assets/js/plugins/datatables/dataTables.bootstrap4.min.js")"></script>
    <script src="@Url.Content("~/Template/assets/js/pages/be_tables_datatables.min.js")"></script>
    <script src="@Url.Content("~/Scripts/Views/Servidor/ConsultarOcorrencia.js")"></script>
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}